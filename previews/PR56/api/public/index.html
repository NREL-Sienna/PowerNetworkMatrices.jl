<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public API Reference · PowerNetworkMatrices.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerNetworkMatrices.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerNetworkMatrices.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><a class="tocitem" href="../../quick_start_guide/">Quick Start Guide</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/tutorial_Incidence_BA_ABA_matrices/">Incidence, BA and ABA matrices</a></li><li><a class="tocitem" href="../../tutorials/tutorial_PTDF_matrix/">PTDF matrix</a></li><li><a class="tocitem" href="../../tutorials/tutorial_VirtualPTDF_matrix/">VirtualPTDF matrix</a></li><li><a class="tocitem" href="../../tutorials/tutorial_LODF_matrix/">LODF matrix</a></li><li><a class="tocitem" href="../../tutorials/tutorial_VirtualLODF_matrix/">VirtualLODF matrix</a></li></ul></li><li class="is-active"><a class="tocitem" href>Public API Reference</a></li><li><a class="tocitem" href="../internal/">Internal API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Public API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Public API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/main/docs/src/api/public.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-API-Reference"><a class="docs-heading-anchor" href="#Public-API-Reference">Public API Reference</a><a id="Public-API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Public-API-Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.ABA_Matrix" href="#PowerNetworkMatrices.ABA_Matrix"><code>PowerNetworkMatrices.ABA_Matrix</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure containing the ABA matrix and other relevant data.</p><p><strong>Arguments</strong></p><ul><li><code>data::SparseArrays.SparseMatrixCSC{Float64, Int}</code>:       the ABA matrix coming from the product between the Incidence Matrix A and       the Matrix BA.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two identical vectors, both containing the number of        each bus of the network (each one related to a row/column of the Matrix       in &quot;data&quot;), excluding the slack buses.</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing 2 Dictionaries mapping the number of rows and columns       with the number of the buses.</li><li><code>ref_bus_positions::Set{Int}</code>:       Vector containing the indexes of the columns of the BA matrix corresponding       to the refence buses</li><li><code>K&lt;:Union{Nothing, KLU.KLUFactorization{Float64, Int}}</code>:       either nothing or a container for KLU factorization matrices (LU factorization)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/BA_ABA_matrices.jl#L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.ABA_Matrix-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.ABA_Matrix-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.ABA_Matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ABA_Matrix(sys; factorize)
</code></pre><p>Builds the ABA matrix from a System</p><p><strong>Arguments</strong></p><ul><li><code>sys::PSY.System</code>:       system to consider</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>factorize</code>: if true populates ABA_Matrix.K with KLU factorization matrices</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/BA_ABA_matrices.jl#L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.AdjacencyMatrix" href="#PowerNetworkMatrices.AdjacencyMatrix"><code>PowerNetworkMatrices.AdjacencyMatrix</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Nodal incidence matrix (Adjacency) is an N x N matrix describing a power system with N buses. It represents the directed connectivity of the buses in a power system.</p><p>The AdjacencyMatrix Struct is indexed using the Bus Numbers, no need for them to be sequential</p><p><strong>Arguments</strong></p><ul><li><code>data::SparseArrays.SparseMatrixCSC{Int8, Int}</code>:       stores the incidence matrix</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors, the first one contains the names of each       line of the network (each one related to a row of the Matrix in &quot;data&quot;),       the second one contains the names of each bus of the network (each one       related to a column of the Matrix in &quot;data&quot;)</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing 2 Dictionaries mapping the number of rows and columns       with the names of branches and buses</li><li><code>ref_bus_positions::Set{Int}</code>:       Vector containing the indexes of the columns of the BA matrix corresponding       to the refence buses</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/adjacency_matrix.jl#L2">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.AdjacencyMatrix-Tuple{Any, Vector{PowerSystems.ACBus}}" href="#PowerNetworkMatrices.AdjacencyMatrix-Tuple{Any, Vector{PowerSystems.ACBus}}"><code>PowerNetworkMatrices.AdjacencyMatrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AdjacencyMatrix(
    branches,
    buses;
    check_connectivity,
    kwargs...
)
</code></pre><p>Builds a AdjacencyMatrix from a collection of buses and branches. The return is an N x N AdjacencyMatrix Array indexed with the bus numbers.</p><p><strong>Arguments</strong></p><ul><li><code>check_connectivity::Bool</code>:       Checks connectivity of the network using Depth First Search (DFS) algorithm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/adjacency_matrix.jl#L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.AdjacencyMatrix-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.AdjacencyMatrix-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.AdjacencyMatrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AdjacencyMatrix(sys; check_connectivity, kwargs...)
</code></pre><p>Builds a AdjacencyMatrix from the system. The return is an N x N AdjacencyMatrix Array indexed with the bus numbers.</p><p><strong>Arguments</strong></p><ul><li><code>check_connectivity::Bool</code>:       Checks connectivity of the network using Depth First Search (DFS) algorithm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/adjacency_matrix.jl#L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.BA_Matrix" href="#PowerNetworkMatrices.BA_Matrix"><code>PowerNetworkMatrices.BA_Matrix</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure containing the BA matrix and other relevant data.</p><p><strong>Arguments</strong></p><ul><li><code>data::SparseArrays.SparseMatrixCSC{Float64, Int}</code>:       the transposed BA matrix coming from the product between the Incidence        Matrix A and the Matrix of Susceptance B</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors, the first one contains the names of each       buse of the network (each one related to a row of the Matrix in &quot;data&quot;),       the second one contains the names of each line of the network (each one       related to a column of the Matrix in &quot;data&quot;)</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing 2 Dictionaries mapping the number of rows and columns       with the names of buses and branches</li><li><code>ref_bus_positions::Set{Int}</code>:       Vector containing the indexes of the columns of the BA matrix corresponding       to the refence buses</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/BA_ABA_matrices.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.BA_Matrix-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.BA_Matrix-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.BA_Matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">BA_Matrix(sys)
</code></pre><p>Build the BA matrix from a given System</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/BA_ABA_matrices.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.IncidenceMatrix" href="#PowerNetworkMatrices.IncidenceMatrix"><code>PowerNetworkMatrices.IncidenceMatrix</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Incidence matrix: shows connection between buses, defining lines</p><p><strong>Arguments</strong></p><ul><li><code>data::SparseArrays.SparseMatrixCSC{Int8, Int}</code>:       the actual Incidence matrix.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors (the first one showing the branches names,       the second showing the buses numbers).</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing two dictionaries, the first mapping the branches       and buses with their enumerated indexes.</li><li><code>ref_bus_positions::Set{Int}</code>:       vector containing the indices of the reference slack buses.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/incedence_matrix.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.IncidenceMatrix-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.IncidenceMatrix-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.IncidenceMatrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IncidenceMatrix(sys)
</code></pre><p>Builds the Incidence matrix by evaluating the actual matrix and other relevant values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/incedence_matrix.jl#L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.LODF" href="#PowerNetworkMatrices.LODF"><code>PowerNetworkMatrices.LODF</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Line Outage Distribution Factor (LODF) matrix gathers a sensitivity coefficients of how a change in a line&#39;s flow affects the flows on other lines in the system.</p><p><strong>Arguments</strong></p><ul><li><code>data&lt;:AbstractArray{Float64, 2}</code>:       the transposed LODF matrix.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two identical vectors containing the names of the       branches related to each row/column.</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing two identical dictionaries mapping the branches        their enumerated indexes (row and column numbers).</li><li><code>tol::Base.RefValue{Float64}</code>:       tolerance used for sparsifying the matrix (dropping element whose       absolute value is below this threshold).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/lodf_calculations.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.LODF-Tuple{Any, Vector{PowerSystems.ACBus}}" href="#PowerNetworkMatrices.LODF-Tuple{Any, Vector{PowerSystems.ACBus}}"><code>PowerNetworkMatrices.LODF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LODF(branches, buses; linear_solver, tol)
</code></pre><p>Builds the LODF matrix given the data of branches and buses of the system.</p><p><strong>Arguments</strong></p><ul><li><code>branches</code>:       vector of the System AC branches</li><li><code>buses::Vector{PSY.ACBus}</code>:       vector of the System buses</li><li><code>tol::Float64</code>:       Tolerance to eliminate entries in the LODF matrix (default eps())</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/lodf_calculations.jl#L159">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.LODF-Tuple{IncidenceMatrix, ABA_Matrix, BA_Matrix}" href="#PowerNetworkMatrices.LODF-Tuple{IncidenceMatrix, ABA_Matrix, BA_Matrix}"><code>PowerNetworkMatrices.LODF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LODF(A, ABA, BA; linear_solver, tol)
</code></pre><p>Builds the LODF matrix given the Incidence Matrix and the PTDF matrix of the system.</p><p>NOTE: this method does not support distributed slack bus.</p><p><strong>Arguments</strong></p><ul><li><code>A::IncidenceMatrix</code>:       Structure containing the Incidence matrix of the system.</li><li><code>ABA::ABA_Matrix</code>:       Structure containing the ABA matrix of the system.</li><li><code>BA::BA_Matrix</code>:       Structure containing the transposed BA matrix of the system.</li><li><code>linear_solver::String</code>:       Linear solver to be used. Options are &quot;Dense&quot; and &quot;KLU&quot;.</li><li><code>tol::Float64</code>:       Tolerance to eliminate entries in the LODF matrix (default eps()).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/lodf_calculations.jl#L265">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.LODF-Tuple{IncidenceMatrix, PTDF}" href="#PowerNetworkMatrices.LODF-Tuple{IncidenceMatrix, PTDF}"><code>PowerNetworkMatrices.LODF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LODF(A, PTDFm; linear_solver, tol)
</code></pre><p>Builds the LODF matrix given the Incidence Matrix and the PTDF matrix of the system.</p><p>NOTE: tol is referred to the LODF sparsification, not the PTDF one. PTDF matrix must be considered as NON sparsified (&quot;tol&quot; argument not specified when calling the PTDF method).</p><p><strong>Arguments</strong></p><ul><li><code>A::IncidenceMatrix</code>:       Structure containing the Incidence matrix of the system.</li><li><code>PTDFm::PTDF</code>:       Strucutre containing the transposed PTDF matrix of the system.</li><li><code>linear_solver::String</code>:       Linear solver to be used. Options are &quot;Dense&quot; and &quot;KLU&quot;.</li><li><code>tol::Float64</code>:       Tolerance to eliminate entries in the LODF matrix (default eps()).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/lodf_calculations.jl#L214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.LODF-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.LODF-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.LODF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LODF(sys; kwargs...)
</code></pre><p>Builds the LODF matrix from a system.</p><p><strong>Arguments</strong></p><ul><li><code>sys::PSY.System</code>:       Power Systems system</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/lodf_calculations.jl#L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.PTDF" href="#PowerNetworkMatrices.PTDF"><code>PowerNetworkMatrices.PTDF</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Power Transfer Distribution Factors (PTDF) indicate the incremental change in real power that occurs on transmission lines due to real power injections changes at the buses.</p><p>The PTDF struct is indexed using the Bus numbers and Branch names.</p><p><strong>Arguments</strong></p><ul><li><code>data&lt;:AbstractArray{Float64, 2}</code>:       the transposed PTDF matrix.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors: the first one showing the bus numbers,       the second showing the branch names. The information contained in this       field matches the axes of the fiels <code>data</code>.</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing two dictionaries mapping the bus numbers and branch       names with the indices of the matrix contained in <code>data</code>.</li><li><code>subnetworks::Dict{Int, Set{Int}}</code>:       dictionary containing the set of bus indexes defining the subnetworks       of the system.</li><li><code>tol::Base.RefValue{Float64}</code>:       tolerance used for sparsifying the matrix (dropping element whose       absolute value is below this threshold).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ptdf_calculations.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.PTDF-Tuple{AbstractString}" href="#PowerNetworkMatrices.PTDF-Tuple{AbstractString}"><code>PowerNetworkMatrices.PTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PTDF(filename)
</code></pre><p>Deserialize a PTDF from an HDF5 file.</p><p><strong>Arguments</strong></p><ul><li><code>filename::AbstractString</code>: File containing a serialized PTDF.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ptdf_calculations.jl#L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.PTDF-Tuple{Any, Vector{PowerSystems.ACBus}}" href="#PowerNetworkMatrices.PTDF-Tuple{Any, Vector{PowerSystems.ACBus}}"><code>PowerNetworkMatrices.PTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PTDF(branches, buses; dist_slack, linear_solver, tol)
</code></pre><p>Builds the PTDF matrix from a group of branches and buses. The return is a PTDF array indexed with the bus numbers.</p><p><strong>Arguments</strong></p><ul><li><code>branches</code>:       vector of the System AC branches</li><li><code>buses::Vector{PSY.ACBus}</code>:       vector of the System buses</li><li><code>dist_slack::Vector{Float64}</code>:       vector of weights to be used as distributed slack bus.       The distributed slack vector has to be the same length as the number of buses</li><li><code>linear_solver::String</code>:       Linear solver to be used. Options are &quot;Dense&quot;, &quot;KLU&quot; and &quot;MKLPardiso</li><li><code>tol::Float64</code>:       Tolerance to eliminate entries in the PTDF matrix (default eps())</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ptdf_calculations.jl#L361">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.PTDF-Tuple{IncidenceMatrix, BA_Matrix}" href="#PowerNetworkMatrices.PTDF-Tuple{IncidenceMatrix, BA_Matrix}"><code>PowerNetworkMatrices.PTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PTDF(A, BA; dist_slack, linear_solver, tol)
</code></pre><p>Builds the PTDF matrix from a system. The return is a PTDF array indexed with the bus numbers.</p><p><strong>Arguments</strong></p><ul><li><code>A::IncidenceMatrix</code>:       Incidence Matrix (full structure)</li><li><code>BA::BA_Matrix</code>:       BA matrix (full structure)</li><li><code>dist_slack::Vector{Float64}</code>:       Vector of weights to be used as distributed slack bus.       The distributed slack vector has to be the same length as the number of buses.</li><li><code>linear_solver::String</code>:       Linear solver to be used. Options are &quot;Dense&quot;, &quot;KLU&quot; and &quot;MKLPardiso.</li><li><code>tol::Float64</code>:       Tolerance to eliminate entries in the PTDF matrix (default eps()).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ptdf_calculations.jl#L432">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.PTDF-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.PTDF-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.PTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PTDF(sys; kwargs...)
</code></pre><p>Builds the PTDF matrix from a system. The return is a PTDF array indexed with the bus numbers.</p><p><strong>Arguments</strong></p><ul><li><code>sys::PSY.System</code>:       Power Systems system</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ptdf_calculations.jl#L416">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.VirtualLODF" href="#PowerNetworkMatrices.VirtualLODF"><code>PowerNetworkMatrices.VirtualLODF</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Virtual Line Outage Distribution Factor (VirtualLODF) structure gathers the rows of the LODF matrix as they are evaluated on-the-go. These rows are evalauted independently, cached in the structure and do not require the computation of the whole matrix (therefore significantly reducing the computational requirements).</p><p>The VirtualLODF is initialized with no row stored.</p><p>The VirtualLODF struct is indexed using branch names.</p><p><strong>Arguments</strong></p><ul><li><code>K::KLU.KLUFactorization{Float64, Int}</code>:       LU factorization matrices of the ABA matrix, evaluated by means of KLU.</li><li><code>BA::SparseArrays.SparseMatrixCSC{Float64, Int}</code>:       BA matrix.</li><li><code>A::SparseArrays.SparseMatrixCSC{Int8, Int}</code>:       Incidence matrix.</li><li><code>inv_PTDF_A_diag::Vector{Float64}</code>:       Vector contiaining the element-wise reciprocal of the diagonal elements       coming from multuiplying the PTDF matrix with th Incidence matrix</li><li><code>ref_bus_positions::Set{Int}</code>:       Vector containing the indexes of the rows of the transposed BA matrix       corresponding to the refence buses.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors showing the branch names.</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing two dictionaries, mapping the branches names       the enumerated row indexes indexes.</li><li><code>valid_ix::Vector{Int}</code>:       Vector containing the row/columns indices of matrices related the buses       which are not slack ones.</li><li><code>temp_data::Vector{Float64}</code>:       Temporary vector for internal use.</li><li><code>cache::RowCache</code>:       Cache were LODF rows are stored.</li><li><code>subnetworks::Dict{Int, Set{Int}}</code>:       Dictionary containing the subsets of buses defining the different subnetwork of the system.</li><li><code>tol::Base.RefValue{Float64}</code>:       Tolerance related to scarification and values to drop.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/virtual_lodf_calculations.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.VirtualPTDF" href="#PowerNetworkMatrices.VirtualPTDF"><code>PowerNetworkMatrices.VirtualPTDF</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Virtual Power Transfer Distribution Factor (VirtualPTDF) structure gathers the rows of the PTDF matrix as they are evaluated on-the-go. These rows are  evalauted independently, cached in the structure and do not require the  computation of the whole matrix (therefore significantly reducing the  computational requirements).</p><p>The VirtualPTDF is initialized with no row stored. </p><p>The VirtualPTDF is indexed using branch names and bus numbers as for the PTDF matrix.</p><p><strong>Arguments</strong></p><ul><li><code>K::KLU.KLUFactorization{Float64, Int}</code>:       LU factorization matrices of the ABA matrix, evaluated by means of KLU</li><li><code>BA::SparseArrays.SparseMatrixCSC{Float64, Int}</code>:       BA matric</li><li><code>ref_bus_positions::Set{Int}</code>:       Vector containing the indexes of the columns of the BA matrix corresponding       to the refence buses</li><li><code>dist_slack::Vector{Float64}</code>:       Vector of weights to be used as distributed slack bus.       The distributed slack vector has to be the same length as the number of buses.</li><li><code>axes&lt;:NTuple{2, Dict}</code>:       Tuple containing two vectors: the first one showing the branches names,       the second showing the buses numbers. There is no link between the       order of the vector of the branches names and the way the PTDF rows are        stored in the cache.</li><li><code>lookup&lt;:NTuple{2, Dict}</code>:       Tuple containing two dictionaries, mapping the branches       and buses with their enumerated indexes. The branch indexes refer to       the key of the cache dictionary. The bus indexes refer to the position        of the elements in the PTDF row stored.</li><li><code>temp_data::Vector{Float64}</code>:       Temporary vector for internal use.</li><li><code>valid_ix::Vector{Int}</code>:       Vector containing the row/columns indices of matrices related the buses       which are not slack ones.</li><li><code>cache::RowCache</code>:       Cache were PTDF rows are stored.</li><li><code>subnetworks::Dict{Int, Set{Int}}</code>:       Dictionary containing the subsets of buses defining the different subnetwork of the system.</li><li><code>tol::Base.RefValue{Float64}</code>:       Tolerance related to scarification and values to drop.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/virtual_ptdf_calculations.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.VirtualPTDF-Tuple{Any, Vector{PowerSystems.ACBus}}" href="#PowerNetworkMatrices.VirtualPTDF-Tuple{Any, Vector{PowerSystems.ACBus}}"><code>PowerNetworkMatrices.VirtualPTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">VirtualPTDF(
    branches,
    buses;
    dist_slack,
    tol,
    max_cache_size,
    persistent_lines
)
</code></pre><p>Builds the PTDF matrix from a group of branches and buses. The return is a PTDF array indexed with the branch numbers.</p><p><strong>Arguments</strong></p><ul><li><code>branches</code>:       Vector of the system&#39;s AC branches.</li><li><code>buses::Vector{PSY.ACBus}</code>:       Vector of the system&#39;s buses.</li><li><code>dist_slack::Vector{Float64} = Float64[]</code>:       Vector of weights to be used as distributed slack bus.       The distributed slack vector has to be the same length as the number of buses.</li><li><code>tol::Float64 = eps()</code>:       Tolerance related to sparsification and values to drop.</li><li><code>max_cache_size::Int</code>:       max cache size in MiB (inizialized as MAX<em>CACHE</em>SIZE_MiB).</li><li><code>persistent_lines::Vector{String}</code>:       line to be evaluated as soon as the VirtualPTDF is created (initialized as empty vector of strings).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/virtual_ptdf_calculations.jl#L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.VirtualPTDF-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.VirtualPTDF-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.VirtualPTDF</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">VirtualPTDF(sys; kwargs...)
</code></pre><p>Builds the Virtual PTDF matrix from a system. The return is a VirtualPTDF struct with an empty cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/virtual_ptdf_calculations.jl#L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.Ybus" href="#PowerNetworkMatrices.Ybus"><code>PowerNetworkMatrices.Ybus</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Ybus(branches, buses)
Ybus(branches, buses, fixed_admittances; check_connectivity)
</code></pre><p>Builds a Ybus from a collection of buses and branches. The return is a Ybus Array indexed with the bus numbers and the branch names.</p><p><strong>Arguments</strong></p><ul><li><code>check_connectivity::Bool</code>: Checks connectivity of the network using Depth First Search (DFS)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ybus_calculations.jl#L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.Ybus" href="#PowerNetworkMatrices.Ybus"><code>PowerNetworkMatrices.Ybus</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Nodal admittance matrix (Ybus) is an N x N matrix describing a power system with N buses. It represents the nodal admittance of the buses in a power system.</p><p>The Ybus Struct is indexed using the Bus Numbers, no need for them to be sequential</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ybus_calculations.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.Ybus-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.Ybus-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.Ybus</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Ybus(sys; kwargs...)
</code></pre><p>Builds a Ybus from the system. The return is a Ybus Array indexed with the bus numbers and the branch names.</p><p><strong>Arguments</strong></p><ul><li><code>check_connectivity::Bool</code>: Checks connectivity of the network</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/ybus_calculations.jl#L191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.factorize-Union{Tuple{ABA_Matrix{Ax, L, Nothing}}, Tuple{L}, Tuple{Ax}} where {Ax, L&lt;:Tuple{Dict, Dict}}" href="#PowerNetworkMatrices.factorize-Union{Tuple{ABA_Matrix{Ax, L, Nothing}}, Tuple{L}, Tuple{Ax}} where {Ax, L&lt;:Tuple{Dict, Dict}}"><code>PowerNetworkMatrices.factorize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factorize(ABA)
</code></pre><p>Evaluates the LU factorization matrices of the ABA matrix, using KLU.</p><p><strong>Arguments</strong></p><ul><li><code>ABA::ABA_Matrix{Ax, L, Nothing} where {Ax, L &lt;: NTuple{2, Dict}}</code>:       container for the ABA matrix, with ABA.K == nothing (LU matrices in K not evaluated)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/BA_ABA_matrices.jl#L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.find_subnetworks-Tuple{AdjacencyMatrix}" href="#PowerNetworkMatrices.find_subnetworks-Tuple{AdjacencyMatrix}"><code>PowerNetworkMatrices.find_subnetworks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">find_subnetworks(M)
</code></pre><p>Evaluates subnetworks by looking for the subsets of buses connected each other, but not connected with buses of other subsets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/adjacency_matrix.jl#L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.find_subnetworks-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.find_subnetworks-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.find_subnetworks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">find_subnetworks(sys)
</code></pre><p>Finds the subnetworks in a system using Depth First Search (DFS). Returns a dictionary keyed by the reference bus of the subnetworks if they exist</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/system_utils.jl#L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.find_subnetworks-Tuple{SparseArrays.SparseMatrixCSC, Vector{Int64}}" href="#PowerNetworkMatrices.find_subnetworks-Tuple{SparseArrays.SparseMatrixCSC, Vector{Int64}}"><code>PowerNetworkMatrices.find_subnetworks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">find_subnetworks(M, bus_numbers)
</code></pre><p>Finds the subnetworks present in the considered System. This is evaluated by taking a the ABA or Adjacency Matrix.</p><p><strong>Arguments</strong></p><ul><li><code>M::SparseArrays.SparseMatrixCSC</code>:       input sparse matrix.</li><li><code>bus_numbers::Vector{Int}</code>:       vector containing the indices of the system&#39;s buses.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/common.jl#L307">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.from_hdf5-Tuple{Type{PTDF}, AbstractString}" href="#PowerNetworkMatrices.from_hdf5-Tuple{Type{PTDF}, AbstractString}"><code>PowerNetworkMatrices.from_hdf5</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">from_hdf5(_, filename)
</code></pre><p>Deserialize a PTDF from an HDF5 file.</p><p><strong>Arguments</strong></p><ul><li><code>::Type{PTDF}</code>:</li><li><code>filename::AbstractString</code>: File containing a serialized PTDF.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/serialization.jl#L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.to_hdf5-Tuple{PTDF, AbstractString}" href="#PowerNetworkMatrices.to_hdf5-Tuple{PTDF, AbstractString}"><code>PowerNetworkMatrices.to_hdf5</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_hdf5(ptdf, filename; compress, compression_level, force)
</code></pre><p>Serialize the PTDF to an HDF5 file.</p><p><strong>Arguments</strong></p><ul><li><code>ptdf::PTDF</code>: matrix</li><li><code>filename::AbstractString</code>: File to create</li><li><code>compress::Bool</code>: Whether to enabled compression, defaults to true.</li><li><code>compression_level::Int</code>: Compression level to use if compression is enabled.</li><li><code>force::Bool</code>: Whether to overwrite the file if it already exists, defaults to false.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/serialization.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.validate_connectivity-Tuple{AdjacencyMatrix}" href="#PowerNetworkMatrices.validate_connectivity-Tuple{AdjacencyMatrix}"><code>PowerNetworkMatrices.validate_connectivity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">validate_connectivity(M)
</code></pre><p>Validates connectivity by checking that the number of subnetworks is 1 (fully connected network).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/adjacency_matrix.jl#L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerNetworkMatrices.validate_connectivity-Tuple{PowerSystems.System}" href="#PowerNetworkMatrices.validate_connectivity-Tuple{PowerSystems.System}"><code>PowerNetworkMatrices.validate_connectivity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">validate_connectivity(sys)
</code></pre><p>Checks the network connectivity of the system using Depth First Search (DFS)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL-Sienna/PowerNetworkMatrices.jl/blob/523ce72ab48720af611842598ff495e57d95e152/src/system_utils.jl#L1">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/tutorial_VirtualLODF_matrix/">« VirtualLODF matrix</a><a class="docs-footer-nextpage" href="../internal/">Internal API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 15 September 2023 21:27">Friday 15 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
